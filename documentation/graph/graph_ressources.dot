digraph {
    randir=TP;
    // Sol
    subgraph SOL{
        rank=same; 
        node [style="filled,solid", color="", shape="plaintext"]
        Vierge [style="solid", color="", label="Vierge"];
        GisementOr [label="Gisement Or"];
        GisementFer [label="Gisement Fer"];
        GisementTitane [label="Gisement Titane"];
        GisementSilicium [label="Gisement Silicium"];
        GisementGlace [label="Gisement Glace"];
        GisementAluminium [label="Gisement Aluminium"];
        GisementMagnesium [label="Gisement Magnesium"];
        GisementCalcium [label="Gisement Calcium"];
        GisementSoduim [label="Gisement Soduim"];
        Montage [label="Montage"];
        Trou [label="Trou"];
    }

    // Matière Première
    subgraph MATIERE_PREMIERE{
        rank=same; 
        node [style="filled,solid", color="", shape="egg"]
        PoussiereRegolite [label="Poussiere Regolite"];
        MineraiGlace [label="Minerai Glace"];
        MineraiTitane [label="Minerai Titane"];
        MineraiSilicium [label="Minerai Silicium"];
        MineraiFer [label="Minerai Fer"];
        MineraiOr [label="Minerai Or"];
        MineraiAluminium [label="Minerai Aluminium"];
        MineraiMagnesium [label="Minerai Magnesium"];
        MineraiCalcium [label="Minerai Calcium"];
        MineraiSoduim [label="Minerai Soduim"];
    }

    // Lingot
    subgraph LINGOT{
        rank=same; 
        node [style="filled,solid", color="", shape="rectangle"]
        LingotRegolite  [label="Lingot Regolite"];
        LingotTitane  [label="Lingot Titane"];
        LingotSilicium  [label="Lingot Silicium"];
        LingotFer  [label="Lingot Fer"];
        LingotOr  [label="Lingot Or"];
        LingotAluminium  [label="Lingot Aluminium"];
        LingotMagnesium  [label="Lingot Magnesium"];
        LingotCalcium  [label="Lingot Calcium"];
        LingotSoduim  [label="Lingot Soduim"];
    }

    Helium3 [style="filled,solid", color="", label="Helium3",shape="Mcircle"];
    MateriauxConstruction  [style="filled,solid", color="", label="Materiaux Construction",shape="rectangle"];

    // Gaz
    subgraph GAZ{
        rank=same; 
        node [style="filled,solid", color="", shape="egg"]
        GazOxygene [label="Gaz Oxygene"];
        GazHydrogene [label="Gaz Hydrogene"];
    }

    // Liquide
    subgraph LIQUIDE{
        // rank=same; 
        Eau [label="Eau"];     
        node [style="filled,solid", color="", shape="egg"]
        LiquideHydrogene [label="Liquide Hydrogene"];
        LiquideOxygene [label="Liquide Oxygene"];
        PeroxydeHydrogene [label="Peroxyde Hydrogene"];
    }

    // Carburant
    subgraph CARBURANT{
        // rank=same; 
        node [style="filled,solid", color="", shape="cylinder"]
        Carburant  [label="Carburant"];
        Carburant1  [label="Carburant1"];
        Carburant2  [label="Carburant2"];
    }

    // Craft
    Puce [style="filled,solid", color="", label="Puce",shape="hexagon"];
    // Niveau 1
    subgraph CRAFT1{
        // rank=same; 
        node [style="filled,solid", color="", shape="octagon"]
        SatelliteFragile1 [label="Satellite Fragile1"];
        SatelliteRobuste1 [label="Satellite Robuste1"];
        VaisseauFragile1 [label="Vaisseau Fragile1"];
        VaisseauRobuste1 [label="Vaisseau Robuste1"];
    }
    // Niveau 2
    subgraph CRAFT2{
        // rank=same; 
        node [style="filled,solid", color="", shape="doubleoctagon"]
        SatelliteFragile2 [label="Satellite Fragile2"];
        SatelliteRobuste2 [label="Satellite Robuste2"];
        VaisseauFragile2 [label="Vaisseau Fragile2"];
        VaisseauRobuste2 [label="Vaisseau Robuste2"];
    }
    // Niveau 3
    subgraph CRAFT3{
        // rank=same; 
        node [style="filled,solid", color="", shape="tripleoctagon"]
        SatelliteFragile3 [label="Satellite Fragile3"];
        SatelliteRobuste3 [label="Satellite Robuste3"];
        VaisseauFragile3 [label="Vaisseau Fragile3"];
        VaisseauRobuste3 [label="Vaisseau Robuste3"];
    }
    // Luxe
    subgraph LUX{
        node [style="filled,solid", color="", shape="Msquare"]
        PuceLuxe [label="Puce Luxe"];
        VaisseauLuxe [label="Vaisseau Luxe"];
    }


/**********************************************************************************/

/*********************************Connexion****************************************/
    Vierge -> PoussiereRegolite
    GisementOr -> MineraiOr [label="Mine", fontcolor="grey", color="grey", style="dotted"]
    GisementFer -> MineraiFer [label="Mine", fontcolor="grey", color="grey", style="dotted"]
    GisementTitane -> MineraiTitane [label="Mine", fontcolor="grey", color="grey", style="dotted"]
    GisementSilicium -> MineraiSilicium [label="Mine", fontcolor="grey", color="grey", style="dotted"]
    GisementAluminium -> MineraiAluminium [label="Mine", fontcolor="grey", color="grey", style="dotted"]
    GisementMagnesium -> MineraiMagnesium [label="Mine", fontcolor="grey", color="grey", style="dotted"]
    GisementCalcium -> MineraiCalcium [label="Mine", fontcolor="grey", color="grey", style="dotted"]
    GisementSoduim -> MineraiSoduim [label="Mine", fontcolor="grey", color="grey", style="dotted"]
    GisementGlace -> MineraiGlace [label="Mine", fontcolor="grey", color="grey", style="dotted"]

    PoussiereRegolite -> LingotRegolite [label="Fonderie", fontcolor="blue", color="blue", style="dashed"]
    PoussiereRegolite -> Helium3
    MineraiTitane -> LingotTitane [label="Fonderie", fontcolor="blue", color="blue", style="dashed"]
    MineraiSilicium -> LingotSilicium [label="Fonderie", fontcolor="blue", color="blue", style="dashed"]
    MineraiFer -> LingotFer [label="Fonderie", fontcolor="blue", color="blue", style="dashed"]
    MineraiOr -> LingotOr [label="Fonderie", fontcolor="blue", color="blue", style="dashed"]
    MineraiAluminium -> LingotAluminium [label="Fonderie", fontcolor="blue", color="blue", style="dashed"]
    MineraiMagnesium -> LingotMagnesium [label="Fonderie", fontcolor="blue", color="blue", style="dashed"]
    MineraiCalcium -> LingotCalcium [label="Fonderie", fontcolor="blue", color="blue", style="dashed"]
    MineraiSoduim -> LingotSoduim [label="Fonderie", fontcolor="blue", color="blue", style="dashed"]

    MineraiGlace -> Eau
    Eau -> GazHydrogene [label="Cuve", fontcolor="lightskyblue", color="lightskyblue", style="dashed"]
    Eau -> GazOxygene [label="Cuve", fontcolor="lightskyblue", color="lightskyblue", style="dashed"]
    GazHydrogene -> LiquideHydrogene [label="Cuve", fontcolor="lightskyblue", color="lightskyblue", style="dashed"]
    GazOxygene -> LiquideOxygene [label="Cuve", fontcolor="lightskyblue", color="lightskyblue", style="dashed"]

    GazHydrogene, GazOxygene -> PeroxydeHydrogene [label="Cuve", fontcolor="lightskyblue", color="lightskyblue", style="dashed"]

    LiquideHydrogene, LiquideOxygene -> Carburant1 [label="Cuve", fontcolor="lightskyblue", color="lightskyblue", style="dashed"]
    PeroxydeHydrogene -> Carburant2 [label="Cuve", fontcolor="lightskyblue", color="lightskyblue", style="dashed"]

    Carburant1 -> Carburant [label="Cuve", fontcolor="lightskyblue", color="lightskyblue", style="dashed"]
    Carburant2 -> Carburant [label="Cuve", fontcolor="lightskyblue", color="lightskyblue", style="dashed"]

    // pour aligner les suites de craft
    Puce -> PuceLuxe [style="invis", constraint=false]
    SatelliteFragile1 -> SatelliteFragile2 -> SatelliteFragile3 [style="invis"]
    SatelliteRobuste1 -> SatelliteRobuste2 -> SatelliteRobuste3 [style="invis"]
    VaisseauRobuste1 -> VaisseauRobuste2 -> VaisseauRobuste3 [style="invis"]
    VaisseauFragile1 -> VaisseauFragile2 -> VaisseauFragile3 [style="invis"]

    LingotRegolite -> MateriauxConstruction [label="Fabrique", fontcolor="green", color="green", style="solid"]
    LingotSilicium -> Puce [label="Fabrique", fontcolor="green", color="green", style="solid"]
    Puce, LingotTitane, LingotOr -> PuceLuxe [label="Fabrique", fontcolor="green", color="green", style="solid"]

    MateriauxConstruction, LingotFer, Puce -> SatelliteFragile1 [label="Atelier", fontcolor="orange", color="orange:yellow:orange", style="solid"]
    SatelliteFragile1, LingotAluminium -> SatelliteFragile2 [label="Atelier", fontcolor="orange", color="orange:yellow:orange", style="solid"]
    SatelliteFragile2, LingotOr -> SatelliteFragile3 [label="Atelier", fontcolor="orange", color="orange:yellow:orange", style="solid"]


    MateriauxConstruction, LingotTitane, Puce -> SatelliteRobuste1 [label="Atelier", fontcolor="orange", color="orange:yellow:orange", style="solid"]
    SatelliteRobuste1, LingotAluminium -> SatelliteRobuste2 [label="Atelier", fontcolor="orange", color="orange:yellow:orange", style="solid"]
    SatelliteRobuste2, LingotOr -> SatelliteRobuste3 [label="Atelier", fontcolor="orange", color="orange:yellow:orange", style="solid"]

    Carburant, MateriauxConstruction, LingotFer, Puce -> VaisseauFragile1 [label="Chantier spatial", fontcolor="red", color="red:orange:red", style="solid"]
    VaisseauFragile1, LingotAluminium -> VaisseauFragile2 [label="Chantier spatial", fontcolor="red", color="red:orange:red", style="solid"]
    VaisseauFragile2, LingotOr -> VaisseauFragile3 [label="Chantier spatial", fontcolor="red", color="red:orange:red", style="solid"]

    Carburant, MateriauxConstruction, LingotTitane, Puce -> VaisseauRobuste1 [label="Chantier spatial", fontcolor="red", color="red:orange:red", style="solid"]
    VaisseauRobuste1, LingotAluminium -> VaisseauRobuste2 [label="Chantier spatial", fontcolor="red", color="red:orange:red", style="solid"]
    VaisseauRobuste2, LingotOr -> VaisseauRobuste3 [label="Chantier spatial", fontcolor="red", color="red:orange:red", style="solid"]

    VaisseauRobuste3, SatelliteRobuste3, PuceLuxe -> VaisseauLuxe [label="Chantier spatial", fontcolor="red", color="red:orange:red", style="solid"]

}
